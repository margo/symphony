apiVersion: non-margo.org
kind: ApplicationDeployment
metadata:
  name: mariadb-instance
spec:
  appPackageRef:
    id: 6b66ded8-a94a-43bc-a686-3abb130330ad  #fd6695c3-eb30-4af1-95bc-49667ae4d477
  deviceRef:
    id: device-101
  deploymentProfile:
    type: compose
    components:
      - name: nextcloud-stack
        properties:  
        packageLocation: https://github.com/docker/awesome-compose/blob/master/nextcloud-redis-mariadb/compose.yaml
        #https://raw.githubusercontent.com/docker/awesome-compose/refs/heads/master/nextcloud-redis-mariadb/compose.yaml
  parameters:
    nextcloudPort:
      value: 81
      targets:
        - pointer: PORTS.80
          components: ["nextcloud-stack"]
