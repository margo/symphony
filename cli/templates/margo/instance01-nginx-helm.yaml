apiVersion: non-margo.org
kind: ApplicationDeployment
metadata:
  name: nginx-instance
spec:
  appPackageRef:
    id: 97158541-a90b-4d60-a67c-754900fb76d6  #69391e61-22be-4603-890b-bcbcc32be6cb
  deviceRef:
    id: device-101
  deploymentProfile:
    type: helm.v3
    components:
      - name: nginx
        properties:  
          repository: oci://ghcr.io/nginxinc/charts/nginx-ingress
          revision: "1.2.2"
          wait: true
  parameters:
    serviceType:
      value: "NodePort"
      targets:
      - pointer: controller.service.type
        components: ["nginx"]